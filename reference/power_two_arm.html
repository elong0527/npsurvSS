<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculate power for a two-arm survival study."><title>Power — power_two_arm • npsurvSS</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Power — power_two_arm"><meta property="og:description" content="Calculate power for a two-arm survival study."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">npsurvSS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/npsurvSS.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/basic_functionalities.html">Basic functionalities</a>
    <a class="dropdown-item" href="../articles/example1.html">Example 1: Optimal randomization ratio</a>
    <a class="dropdown-item" href="../articles/example2.html">Example 2: Delayed treatment effect</a>
    <a class="dropdown-item" href="../articles/project-plan.html">Grammer of Study Design Planning</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="http://github.com/godwinyung/npsurvSS/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Power</h1>
      <small class="dont-index">Source: <a href="http://github.com/godwinyung/npsurvSS/blob/HEAD/R/calc_power_and_sample_size.R" class="external-link"><code>R/calc_power_and_sample_size.R</code></a></small>
      <div class="d-none name"><code>power_two_arm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate power for a two-arm survival study.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">power_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test <span class="op">=</span> <span class="st">"weighted logrank"</span><span class="op">)</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.025</span>, sides <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>arm0</dt>
<dd><p>object of class 'arm'.</p></dd>


<dt>arm1</dt>
<dd><p>object of class 'arm'.</p></dd>


<dt>test</dt>
<dd><p>list or list of lists. Each list must contain at minimum
the key 'test' describing the type of statistical test. Default test
is the "weighted logrank". Kaplan-Meier based tests ("survival difference",
"survival ratio", "rmst difference", "rmst ratio", "percentile difference",
and "percentile ratio") require the user to define an additional key,
either the desired 'milestone' or 'percentile'. The weighted log-rank test
does not require additional keys. However, user may choose which weight function
("1"=unweighted, "n"=Gehan-Breslow, "sqrtN"=Tarone-Ware, "FH_p[a]_q[b]"=
Fleming-Harrington with p=a and q=b) and which approximation for the
large-sample mean ("asymptotic", "generalized schoenfeld", "event driven")
and variance ("1", "block[ randomization]", "simple[ randomization]") they
wish to use. Default choice is 'weight'="1", 'mean.approx'="asymptotic", and 'var.approx'="1".
For more details regarding the different mean and variance approximations
for the weight log-rank test, please see Yung and Liu (2019).</p></dd>


<dt>alpha</dt>
<dd><p>type 1 error rate</p></dd>


<dt>sides</dt>
<dd><p>1=1-sided test, 2=2-sided test</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>power.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Yung, G and Liu, Y. (2019). Sample size and power for the weighted
log-rank test and Kaplan-Meier based tests with allowance for non-proportional
hazards. <em>Biometrics</em>. &lt;doi:10.1111/biom.13196&gt;</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="create_arm.html">create_arm</a></code> for creating an object of class 'arm'.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">arm0</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_arm.html">create_arm</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">120</span>, accr_time<span class="op">=</span><span class="fl">6</span>, surv_scale<span class="op">=</span><span class="fl">0.05</span>, loss_scale<span class="op">=</span><span class="fl">0.005</span>, follow_time<span class="op">=</span><span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">arm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_arm.html">create_arm</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">120</span>, accr_time<span class="op">=</span><span class="fl">6</span>, surv_scale<span class="op">=</span><span class="fl">0.03</span>, loss_scale<span class="op">=</span><span class="fl">0.005</span>, follow_time<span class="op">=</span><span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">power_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.7296235</span>
<span class="r-in"><span><span class="fu">power_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"weighted logrank"</span>,</span></span>
<span class="r-in"><span>  weight<span class="op">=</span><span class="st">"n"</span>,</span></span>
<span class="r-in"><span>  mean.approx<span class="op">=</span><span class="st">"generalized schoenfeld"</span>,</span></span>
<span class="r-in"><span>  var.approx<span class="op">=</span><span class="st">"block"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.7069563</span>
<span class="r-in"><span><span class="fu">power_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"survival difference"</span>, milestone<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.658848</span>
<span class="r-in"><span><span class="fu">power_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"rmst ratio"</span>, milestone<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5684121</span>
<span class="r-in"><span><span class="fu">power_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"percentile difference"</span>, percentile<span class="op">=</span><span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4567024</span>
<span class="r-in"><span><span class="fu">power_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"weighted logrank"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"survival difference"</span>, milestone<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   test     power</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1 0.7296235</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2 0.6588480</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Godwin Yung, Yi Liu.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

