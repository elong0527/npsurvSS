<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Sample size — size_two_arm • npsurvSS</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Sample size — size_two_arm"><meta property="og:description" content="Calculate required sample size and expected number of events for a
two-arm survival study."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">npsurvSS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/npsurvSS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/basic_functionalities.html">Basic functionalities</a>
    </li>
    <li>
      <a href="../articles/example1.html">Example 1: Optimal randomization ratio</a>
    </li>
    <li>
      <a href="../articles/example2.html">Example 2: Delayed treatment effect</a>
    </li>
    <li>
      <a href="../articles/project-plan.html">Grammer of Study Design Planning</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://github.com/godwinyung/npsurvSS/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sample size</h1>
    <small class="dont-index">Source: <a href="http://github.com/godwinyung/npsurvSS/blob/HEAD/R/calc_power_and_sample_size.R" class="external-link"><code>R/calc_power_and_sample_size.R</code></a></small>
    <div class="hidden name"><code>size_two_arm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate required sample size and expected number of events for a
two-arm survival study.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">size_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test <span class="op">=</span> <span class="st">"weighted logrank"</span><span class="op">)</span>,</span>
<span>  power <span class="op">=</span> <span class="fl">0.8</span>, alpha <span class="op">=</span> <span class="fl">0.025</span>, sides <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>arm0</dt>
<dd><p>object of class 'arm'.</p></dd>


<dt>arm1</dt>
<dd><p>object of class 'arm'.</p></dd>


<dt>test</dt>
<dd><p>list or list of lists. Each list must contain at minimum
the key 'test' describing the type of statistical test. Default test
is the "weighted logrank". Kaplan-Meier based tests ("survival difference",
"survival ratio", "rmst difference", "rmst ratio", "percentile difference",
and "percentile ratio") require the user to define an additional key,
either the desired 'milestone' or 'percentile'. The weighted log-rank test
does not require additional keys. However, user may choose which weight function
("1"=unweighted, "n"=Gehan-Breslow, "sqrtN"=Tarone-Ware, "FH_[a]_[b]"=
Fleming-Harrington with p=a and q=b) and which approximation for the
large-sample mean ("asymptotic", "generalized schoenfeld", "event driven")
and variance ("1", "block[ randomization]", "simple[ randomization]") they
wish to use. Default choice is 'weight'="1", 'mean.approx'="asymptotic", and 'var.approx'="1".
For more details regarding the different mean and variance approximations
for the weight log-rank test, please see Yung and Liu (in press).</p></dd>


<dt>power</dt>
<dd><p>1 - type 2 error rate</p></dd>


<dt>alpha</dt>
<dd><p>type 1 error rate</p></dd>


<dt>sides</dt>
<dd><p>1=1-sided test, 2=2-sided test</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <dl><dt>n0</dt>
<dd><p>sample size for <code>arm0</code></p></dd>

  <dt>n1</dt>
<dd><p>sample size for <code>arm1</code></p></dd>

  <dt>n</dt>
<dd><p>total sample size</p></dd>

  <dt>d0</dt>
<dd><p>expected number of events for <code>arm0</code></p></dd>

  <dt>d1</dt>
<dd><p>expected number of events for <code>arm1</code></p></dd>

  <dt>d</dt>
<dd><p>total expected number of events; can be used to convert a time-driven
  trial to an event-driven trial.</p></dd>

</dl></div>
    <div id="references">
    <h2>References</h2>
    <p>Yung, G and Liu, Y. (2019). Sample size and power for the weighted
log-rank test and Kaplan-Meier based tests with allowance for non-proportional
hazards. <em>Biometrics</em>. &lt;doi:10.1111/biom.13196&gt;</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="create_arm.html">create_arm</a></code> for creating an object of class 'arm'.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">arm0</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_arm.html">create_arm</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">120</span>, accr_time<span class="op">=</span><span class="fl">6</span>, surv_scale<span class="op">=</span><span class="fl">0.05</span>, loss_scale<span class="op">=</span><span class="fl">0.005</span>, follow_time<span class="op">=</span><span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">arm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_arm.html">create_arm</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">120</span>, accr_time<span class="op">=</span><span class="fl">6</span>, surv_scale<span class="op">=</span><span class="fl">0.03</span>, loss_scale<span class="op">=</span><span class="fl">0.005</span>, follow_time<span class="op">=</span><span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">size_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        n0        n1         n        d0        d1         d </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 142.41934 142.41934 284.83868  72.47511  49.72759 122.20270 </span>
<span class="r-in"><span><span class="fu">size_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"weighted logrank"</span>,</span></span>
<span class="r-in"><span>  weight<span class="op">=</span><span class="st">"n"</span>,</span></span>
<span class="r-in"><span>  mean.approx<span class="op">=</span><span class="st">"generalized schoenfeld"</span>,</span></span>
<span class="r-in"><span>  var.approx<span class="op">=</span><span class="st">"block"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        n0        n1         n        d0        d1         d </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 149.96628 149.96628 299.93257  76.31563  52.36271 128.67834 </span>
<span class="r-in"><span><span class="fu">size_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"survival difference"</span>, milestone<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        n0        n1         n        d0        d1         d </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 167.78545 167.78545 335.57090  85.38354  58.58450 143.96805 </span>
<span class="r-in"><span><span class="fu">size_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"rmst ratio"</span>, milestone<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       n0       n1        n       d0       d1        d </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 207.1541 207.1541 414.3083 105.4177  72.3306 177.7483 </span>
<span class="r-in"><span><span class="fu">size_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"percentile difference"</span>, percentile<span class="op">=</span><span class="fl">0.25</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        n0        n1         n        d0        d1         d </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 274.83583 274.83583 549.67166 139.85991  95.96255 235.82246 </span>
<span class="r-in"><span><span class="fu">size_two_arm</span><span class="op">(</span><span class="va">arm0</span>, <span class="va">arm1</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"weighted logrank"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>test<span class="op">=</span><span class="st">"survival difference"</span>, milestone<span class="op">=</span><span class="fl">12</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   test       n0       n1        n       d0       d1        d</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1 142.4193 142.4193 284.8387 72.47511 49.72759 122.2027</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2 167.7854 167.7854 335.5709 85.38354 58.58450 143.9680</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Godwin Yung, Yi Liu.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

